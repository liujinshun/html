<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>京东登录</title>

  <style>
    * {
      margin: 0;
      padding: 0;
    }

    .back {

      background: #c2c2c2;
      width: 345px;
      height: 385px;
      margin: 50px auto;
    }

    .back>p {
      color: red;
      visibility: hidden;
    }

    .back1 {
      text-align: center;
    }
  </style>
</head>

<body>
  <div class="back">
    <p>用户名或者密码不能为空!</p>
    <div class="back1" style="position: relative;top: 85px;">
      用户名: <input id="username" type="text" name="username" style="width: 196px;height: 50px;">
    </div>
    <div class="back1" style="position: relative;top: 120px;">
      密&nbsp;&nbsp;码: <input id="passwd" type="text" name="passwd" style="width: 200px;height: 50px;">
    </div>
    <div class="back1">
      <button id="login" style="width: 250px;height: 50px; position: relative;top: 184px;">登录</button>
    </div>
  </div>
  <!------------------------------------------------------------->
  <script src="./jquery.min.js" charset="utf-8"></script>
  <script type="text/javascript">
    $(function() {

      $("#login").click(function() {
        var u = $(".back input[name=username]").val();
        var p = $(".back input[name=passwd]").val();

        if ((!u) || (!p)) {
          $(".back > p").css("visibility", "visible");
          return;
        }


        $.ajax({
          method: "post",
          url: "/login",
          data: {
            name: u,
            passwd: p
          },
          success: function(data, textStatus, jqXHR) {

          if (data == "OK") {
              window.location = "https://www.jd.com/";
            } else {
              $(".back input").val("");
              alert("用户名和密码错误");
            }

          },
          error: function(jqXHR, textStatus, error) {
            console.error(error);
          }
        })
      });
    });
  </script>

</body>

</html>
